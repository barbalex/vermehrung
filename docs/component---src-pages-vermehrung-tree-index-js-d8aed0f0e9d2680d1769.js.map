{"version":3,"sources":["webpack:///./src/pages/Vermehrung/Tree/allParentNodesExist.js","webpack:///./src/pages/Vermehrung/Tree/nodes/compareLabel.js","webpack:///./src/pages/Vermehrung/Tree/isNodeOpen.js","webpack:///./src/pages/Vermehrung/Tree/isNodeInActiveNodePath.js","webpack:///./src/pages/Vermehrung/Tree/openNode.js","webpack:///./src/pages/Vermehrung/Tree/toggleNode.js","webpack:///./src/pages/Vermehrung/Tree/toggleNodeSymbol.js","webpack:///./src/pages/Vermehrung/Tree/sort.js","webpack:///./src/pages/Vermehrung/Tree/allParentNodesAreOpen.js","webpack:///./src/pages/Vermehrung/Tree/nodes/art/artFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/art/art.js","webpack:///./src/pages/Vermehrung/Tree/nodes/art/sammlung/folder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/art/sammlung/index.js","webpack:///./src/pages/Vermehrung/Tree/nodes/art/kultur/folder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/art/kultur/index.js","webpack:///./src/pages/Vermehrung/Tree/nodes/garten/gartenFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/garten/garten.js","webpack:///./src/pages/Vermehrung/Tree/nodes/herkunft/herkunftFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/herkunft/herkunft.js","webpack:///./src/pages/Vermehrung/Tree/nodes/lieferung/lieferungFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/lieferung/lieferung.js","webpack:///./src/pages/Vermehrung/Tree/nodes/person/personFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/person/person.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/werteListenFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/masseinheitFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/masseinheit.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/zaehleinheitFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/zaehleinheit.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/lieferungTypFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/lieferungTyp.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/lieferungStatusFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/lieferungStatus.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/lieferungZwischenlagerFolder.js","webpack:///./src/pages/Vermehrung/Tree/nodes/werteListen/lieferungZwischenlager.js","webpack:///./src/pages/Vermehrung/Tree/Row.js","webpack:///./src/pages/Vermehrung/Tree/nodes/index.js","webpack:///./src/pages/Vermehrung/Tree/index.js","webpack:///./src/components/ErrorBoundary.js","webpack:///./node_modules/mobx-react-lite/dist/index.module.js"],"names":["__webpack_require__","r","__webpack_exports__","lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__","lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default","n","nodes","nodePassed","parentNodes","nodeUrl","concat","url","pop","i","length","push","slice","filter","nodeUrls","map","console","log","allParentNodesExist","every","some","isEqual","a","b","label","toLowerCase","openNodes","nodeIsOpen","node","activeNodeArray","activeNodeArrayPartWithEqualLength","nodeIsInActiveNodePath","_isNodeOpen__WEBPACK_IMPORTED_MODULE_0__","_ref","setOpenNodes","store","tree","isNodeOpen","_reach_router__WEBPACK_IMPORTED_MODULE_0__","_isNodeOpen__WEBPACK_IMPORTED_MODULE_1__","_isNodeInActiveNodePath__WEBPACK_IMPORTED_MODULE_2__","_openNode__WEBPACK_IMPORTED_MODULE_3__","Error","_store$tree","setActiveNodeArray","newActiveNodeArray","isNodeInActiveNodePath","openNode","navigate","join","newOpenNodes","exists","value","sort","isNaN","aI","toString","bI","nodeType","menuType","id","hasChildren","data","get","el","filterTable","parentId","compareLabel","index","lodash_findIndex__WEBPACK_IMPORTED_MODULE_0__","lodash_findIndex__WEBPACK_IMPORTED_MODULE_0___default","artNodes","artIndex","findIndex","art","find","sammlungen","kulturen","StyledNode","styled","div","withConfig","displayName","componentId","props","Number","StyledExpandMoreIcon","ExpandMoreIcon","StyledChevronRightIcon","ChevronRightIcon","StyledMoreHorizIcon","MoreHorizIcon","SymbolDiv","SymbolSpan","span","TextSpan","observer","style","symbolIcon","useContext","storeContext","myProps","key","useSymbolIcon","useSymbolSpan","dataUrl","JSON","stringify","level","onClickNode","useCallback","toggleNode","onClickNodeSymbol","toggleNodeSymbol","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","react_contextmenu__WEBPACK_IMPORTED_MODULE_3__","collect","nodeId","nodeLabel","data-level","data-nodeisinactivenodepath","data-id","data-parentid","data-url","data-nodetype","data-label","data-menutype","onClick","data-nodeisopen","compare","buildArtFolder","buildGartenFolder","buildHerkunftFolder","buildLieferungFolder","buildPersonFolder","buildWerteListenFolder","forEach","_allParentNodesAreOpen","allParentNodesAreOpen","buildArtArt","buildGartenGarten","buildHerkunftHerkunft","buildLieferungLieferung","buildPersonPerson","buildWLMasseinheitFolder","buildWLZaehleinheitFolder","buildWLLieferungTypFolder","buildWLLieferungStatusFolder","buildWLLieferungZwischenlagerFolder","buildArtSammlungFolder","buildArtKulturFolder","buildWLZaehleinheitZaehleinheit","buildWLLieferungStatusStatus","buildWLLieferungTypTyp","buildWLLieferungZwischenlagerZwischenlager","buildWLMasseinheitMasseinheit","buildArtKultur","buildArtSammlung","uniqBy","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","styled_components__WEBPACK_IMPORTED_MODULE_1__","mobx_react_lite__WEBPACK_IMPORTED_MODULE_2__","lodash_findIndex__WEBPACK_IMPORTED_MODULE_3__","lodash_findIndex__WEBPACK_IMPORTED_MODULE_3___default","lodash_isEqual__WEBPACK_IMPORTED_MODULE_4__","lodash_isEqual__WEBPACK_IMPORTED_MODULE_4___default","react_window__WEBPACK_IMPORTED_MODULE_5__","_components_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__","_storeContext__WEBPACK_IMPORTED_MODULE_7__","_Row__WEBPACK_IMPORTED_MODULE_8__","_nodes__WEBPACK_IMPORTED_MODULE_9__","Container","StyledList","List","dimensions","setNodes","buildNodes","listRef","React","createRef","useEffect","current","scrollToItem","height","width","itemCount","itemSize","ref","_ref2","ErrorTitle","ReloadButton","Button","ErrorBoundary","_this","_Component","call","this","state","error","getDerivedStateFromError","render","_this2","react__WEBPACK_IMPORTED_MODULE_2___default","message","variant","window","location","reload","children","Children","child","cloneElement","Object","assign","Component","d","mobx__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","globalIsUsingStaticRendering","isUsingStaticRendering","EMPTY_ARRAY","useObserver","fn","baseComponentName","forceUpdate","tick","setTick","useForceUpdate","reaction","rendering","useUnmount","dispose","track","baseComponent","options","realOptions","forwardRef","name","wrappedComponent","memoComponent","ObserverComponent","component","ObserverPropsCheck","componentName","propFullName","extraKey","hasProp","hasExtraProp","propTypes"],"mappings":"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","file":"component---src-pages-vermehrung-tree-index-js-d8aed0f0e9d2680d1769.js","sourcesContent":["import isEqual from 'lodash/isEqual'\r\n\r\nexport default (nodes, nodePassed) => {\r\n  let parentNodes = []\r\n  const nodeUrl = [...nodePassed.url]\r\n  // pop own url - check only for parents\r\n  nodeUrl.pop()\r\n  for (let i = 1; i < nodeUrl.length; i++) {\r\n    parentNodes.push(nodeUrl.slice(0, i))\r\n  }\r\n  // remove 'Projekte' as that is not contained in openNodes\r\n  parentNodes = parentNodes.filter(\r\n    n => !(n.length === 1 && n[0] === 'Projekte'),\r\n  )\r\n  if (parentNodes.length === 0) return true\r\n\r\n  const nodeUrls = nodes.map(n => n.url)\r\n  console.log(`allParentNodesExist`, {\r\n    nodes,\r\n    nodePassed,\r\n    parentNodes,\r\n    nodeUrls,\r\n  })\r\n  const allParentNodesExist = parentNodes.every((n, i) => {\r\n    console.log(`allParentNodesExist, ${i + 1} of ${parentNodes.length + 1}`)\r\n    return nodeUrls.some(url => isEqual(url, n))\r\n  })\r\n  console.log(`allParentNodesExist, last`)\r\n  return allParentNodesExist\r\n}\r\n","export default (a, b) => {\r\n  if (a.label.toLowerCase() < b.label.toLowerCase()) {\r\n    return -1\r\n  } else if (a.label.toLowerCase() > b.label.toLowerCase()) {\r\n    return 1\r\n  }\r\n  return 0\r\n}\r\n","import isEqual from 'lodash/isEqual'\r\n\r\nexport default (openNodes, url) => {\r\n  if (!url) return false\r\n  if (!openNodes) return false\r\n  if (!openNodes.some) return false\r\n\r\n  console.log('isNodeOpen, 1 of 2')\r\n  const nodeIsOpen = openNodes.some(n => isEqual(n, url))\r\n  console.log('isNodeOpen, 2 of 2')\r\n  return nodeIsOpen\r\n}\r\n","import isEqual from 'lodash/isEqual'\r\n\r\nexport default (node, activeNodeArray) => {\r\n  if (!node) return false\r\n  if (!node.url) return false\r\n  if (!activeNodeArray) return false\r\n  const activeNodeArrayPartWithEqualLength = activeNodeArray.slice(\r\n    0,\r\n    node.url.length,\r\n  )\r\n  console.log('isNodeInActiveNodePath, 1 of 2')\r\n  const nodeIsInActiveNodePath = isEqual(\r\n    activeNodeArrayPartWithEqualLength,\r\n    node.url,\r\n  )\r\n  console.log('isNodeInActiveNodePath, 2 of 2')\r\n\r\n  return nodeIsInActiveNodePath\r\n}\r\n","import isNodeOpen from './isNodeOpen'\r\n\r\nexport default ({ node, openNodes, store }) => {\r\n  const { setOpenNodes } = store.tree\r\n  // make sure this node's url is not yet contained\r\n  // otherwise same nodes will be added multiple times!\r\n  if (isNodeOpen(openNodes, node.url)) return\r\n\r\n  let newOpenNodes = [...openNodes, node.url]\r\n\r\n  setOpenNodes(newOpenNodes)\r\n}\r\n","import { navigate } from '@reach/router'\r\n\r\nimport isNodeOpen from './isNodeOpen'\r\nimport isNodeInActiveNodePath from './isNodeInActiveNodePath'\r\nimport openNode from './openNode'\r\n\r\nexport default ({ node, store }) => {\r\n  if (!node.url) throw new Error('passed node has no url')\r\n  const { openNodes, activeNodeArray, setActiveNodeArray } = store.tree\r\n\r\n  const newActiveNodeArray = [...node.url]\r\n  const nodeIsOpen = isNodeOpen(openNodes, node.url)\r\n  const nodeIsInActiveNodePath = isNodeInActiveNodePath(node, activeNodeArray)\r\n  console.log('toggleNode', {\r\n    node,\r\n    nodeIsOpen,\r\n    openNodes,\r\n    nodeIsInActiveNodePath,\r\n    activeNodeArray,\r\n    newActiveNodeArray,\r\n  })\r\n  if (nodeIsOpen && nodeIsInActiveNodePath) {\r\n    // need to check if node is last in activeNodePath\r\n    if (node.url.length === activeNodeArray.length) {\r\n      /**\r\n       * dont do anything:\r\n       * klicked node should always be / remain active\r\n       */\r\n    } else {\r\n      // leave newActiveNodeArray as it is\r\n    }\r\n  } else if (!nodeIsOpen) {\r\n    openNode({ node, openNodes, store })\r\n  }\r\n\r\n  console.log('toggleNode 2')\r\n  setActiveNodeArray(newActiveNodeArray)\r\n  navigate(`/Vermehrung/${node.url.join('/')}`)\r\n  console.log('toggleNode last')\r\n}\r\n","import isEqual from 'lodash/isEqual'\r\n\r\nimport isNodeOpen from './isNodeOpen'\r\n\r\nexport default ({ node, store }) => {\r\n  if (!node.url) throw new Error('passed node has no url')\r\n  const { setOpenNodes, openNodes } = store.tree\r\n\r\n  let newOpenNodes = [...openNodes]\r\n  if (isNodeOpen(openNodes, node.url)) {\r\n    newOpenNodes = newOpenNodes.filter(n => !isEqual(n, node.url))\r\n  } else {\r\n    newOpenNodes.push(node.url)\r\n  }\r\n  setOpenNodes(newOpenNodes)\r\n}\r\n","const exists = value => !!value || value === 0\r\n\r\nconst sort = (a, b, i) => {\r\n  // return if no element at this index\r\n  if (!exists(a[i]) && !exists(b[i])) return 0\r\n  // sort array with no more element at this position first\r\n  if (!exists(a[i]) && exists(b[i])) return -1\r\n  if (exists(a[i]) && !exists(b[i])) return 1\r\n  // sort numbers by value\r\n  if (!isNaN(a[i]) && !isNaN(b[i])) {\r\n    if (a[i] === b[i]) return sort(a, b, i + 1)\r\n    return a - b\r\n  }\r\n  // use string value to compare mixed types\r\n  const aI = isNaN(a[i]) ? a[i] : a[i].toString()\r\n  const bI = isNaN(b[i]) ? b[i] : b[i].toString()\r\n  if (aI.toLowerCase() === bI.toLowerCase()) return sort(a, b, i + 1)\r\n  if (aI.toLowerCase() < bI.toLowerCase()) return -1\r\n  if (aI.toLowerCase() > bI.toLowerCase()) return 1\r\n}\r\n\r\nexport default (a, b) => sort(a, b, 0)\r\n","import isNodeOpen from './isNodeOpen'\r\n\r\nexport default (openNodes, nodePassed) => {\r\n  let parentNodes = []\r\n  const node = [...nodePassed]\r\n  for (let i = 1; i < node.length; i++) {\r\n    parentNodes.push(node.slice(0, i))\r\n  }\r\n  // remove 'Projekte' as that is not contained in openNodes\r\n  parentNodes = parentNodes.filter(\r\n    n => !(n.length === 1 && n[0] === 'Projekte'),\r\n  )\r\n  if (parentNodes.length === 0) return true\r\n  return parentNodes.every(n => isNodeOpen(openNodes, n))\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'artFolder',\r\n      id: 'artFolder',\r\n      label: 'Arten',\r\n      url: ['Arten'],\r\n      sort: [1],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\n\r\nimport compareLabel from '../compareLabel'\r\nimport allParentNodesExist from '../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data }) => {\r\n  const arten = get(data, 'hasura.ae_art', [])\r\n\r\n  return arten\r\n    .map(el => ({\r\n      nodeType: 'table',\r\n      menuType: 'art',\r\n      filterTable: 'art',\r\n      id: `art${el.id}`,\r\n      parentId: 'artFolder',\r\n      label: get(el, 'name', '(keine Art gewählt)'),\r\n      url: ['Arten', el.id],\r\n      hasChildren: true,\r\n    }))\r\n    .filter(n => allParentNodesExist(nodes, n))\r\n    .sort(compareLabel)\r\n    .map((el, index) => {\r\n      el.sort = [1, index]\r\n      return el\r\n    })\r\n}\r\n","import findIndex from 'lodash/findIndex'\r\n\r\nexport default ({ url, nodes }) => {\r\n  const artNodes = nodes.filter(n => n.parentId === 'artFolder')\r\n  const artIndex = findIndex(artNodes, n => n.id === `art${url[1]}`)\r\n\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'artSammlungenFolder',\r\n      id: `art${url[1]}SammlungenFolder`,\r\n      label: 'Sammlungen',\r\n      url: ['Arten', url[1], 'Sammlungen'],\r\n      sort: [1, artIndex, 2],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\nimport findIndex from 'lodash/findIndex'\r\n\r\nimport compareLabel from '../../compareLabel'\r\nimport allParentNodesExist from '../../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data, url }) => {\r\n  const arten = get(data, 'hasura.ae_art', [])\r\n  const art = arten.find(a => a.id === url[1])\r\n  const sammlungen = get(art, 'ae_art_art.sammlungsByartId', [])\r\n  const artNodes = nodes.filter(n => n.parentId === 'artFolder')\r\n  const artIndex = findIndex(artNodes, n => n.id === `art${url[1]}`)\r\n  console.log('sammlung, artIndex:', artIndex)\r\n\r\n  return sammlungen\r\n    .map(el => ({\r\n      nodeType: 'table',\r\n      menuType: 'sammlung',\r\n      filterTable: 'sammlung',\r\n      id: `sammlung${el.id}`,\r\n      parentId: `art${url[1]}SammlungenFolder`,\r\n      label: `${get(el, 'datum', '(kein Datum)')}: ${get(\r\n        el,\r\n        'herkunftByherkunftId.nr',\r\n        '(keine Nr.)',\r\n      )}`,\r\n      url: ['Arten', url[1], 'Sammlungen', el.id],\r\n      hasChildren: true,\r\n    }))\r\n    .filter(n => allParentNodesExist(nodes, n))\r\n    .sort(compareLabel)\r\n    .map((el, index) => {\r\n      el.sort = [1, artIndex, 2, index]\r\n      return el\r\n    })\r\n}\r\n","import findIndex from 'lodash/findIndex'\r\n\r\nexport default ({ url, nodes }) => {\r\n  const artNodes = nodes.filter(n => n.parentId === 'artFolder')\r\n  const artIndex = findIndex(artNodes, n => n.id === `art${url[1]}`)\r\n\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'artKulturenFolder',\r\n      id: `art${url[1]}KulturenFolder`,\r\n      label: 'Kulturen',\r\n      url: ['Arten', url[1], 'Kulturen'],\r\n      sort: [1, artIndex, 1],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\nimport findIndex from 'lodash/findIndex'\r\n\r\nimport compareLabel from '../../compareLabel'\r\nimport allParentNodesExist from '../../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data, url }) => {\r\n  const arten = get(data, 'hasura.ae_art', [])\r\n  const art = arten.find(a => a.id === url[1])\r\n  const kulturen = get(art, 'ae_art_art.kultursByartId', [])\r\n  const artNodes = nodes.filter(n => n.parentId === 'artFolder')\r\n  const artIndex = findIndex(artNodes, n => n.id === `art${url[1]}`)\r\n  console.log('kultur, artIndex:', artIndex)\r\n\r\n  return kulturen\r\n    .map(el => ({\r\n      nodeType: 'table',\r\n      menuType: 'kultur',\r\n      filterTable: 'kultur',\r\n      id: `kultur${el.id}`,\r\n      parentId: `art${url[1]}KulturenFolder`,\r\n      label: get(el, 'gartenBygartenId.personBypersonId.name', '(kein Name)'),\r\n      url: ['Arten', url[1], 'Kulturen', el.id],\r\n      hasChildren: true,\r\n    }))\r\n    .filter(n => allParentNodesExist(nodes, n))\r\n    .sort(compareLabel)\r\n    .map((el, index) => {\r\n      el.sort = [1, artIndex, 1, index]\r\n      return el\r\n    })\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'gartenFolder',\r\n      id: 'gartenFolder',\r\n      label: 'Gärten',\r\n      url: ['Gaerten'],\r\n      sort: [2],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\n\r\nimport compareLabel from '../compareLabel'\r\nimport allParentNodesExist from '../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data }) => {\r\n  const gaerten = get(data, 'hasura.garten', [])\r\n\r\n  return gaerten\r\n    .map(el => ({\r\n      nodeType: 'table',\r\n      menuType: 'garten',\r\n      filterTable: 'garten',\r\n      id: `garten${el.id}`,\r\n      parentId: 'gartenFolder',\r\n      label: get(el, 'personBypersonId.name', '(kein Garten gewählt)'),\r\n      url: ['Gaerten', el.id],\r\n      hasChildren: true,\r\n    }))\r\n    .filter(n => allParentNodesExist(nodes, n))\r\n    .sort(compareLabel)\r\n    .map((el, index) => {\r\n      el.sort = [2, index]\r\n      return el\r\n    })\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'herkunftFolder',\r\n      id: 'herkunftFolder',\r\n      label: 'Herkünfte',\r\n      url: ['Herkuenfte'],\r\n      sort: [3],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\n\r\nimport compareLabel from '../compareLabel'\r\nimport allParentNodesExist from '../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data }) => {\r\n  const herkuenfte = get(data, 'hasura.herkunft', [])\r\n\r\n  return (\r\n    herkuenfte\r\n      .map(el => ({\r\n        nodeType: 'table',\r\n        menuType: 'herkunft',\r\n        filterTable: 'herkunft',\r\n        id: `herkunft${el.id}`,\r\n        parentId: 'herkunftFolder',\r\n        label: get(el, 'lokalname', '(keine Herkunft gewählt)'),\r\n        url: ['Herkuenfte', el.id],\r\n        hasChildren: true,\r\n      }))\r\n      .filter(n => allParentNodesExist(nodes, n))\r\n      // sort by label\r\n      .sort(compareLabel)\r\n      .map((el, index) => {\r\n        el.sort = [3, index]\r\n        return el\r\n      })\r\n  )\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'lieferungFolder',\r\n      id: 'lieferungFolder',\r\n      label: 'Lieferungen',\r\n      url: ['Lieferungen'],\r\n      sort: [4],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\n\r\nimport compareLabel from '../compareLabel'\r\nimport allParentNodesExist from '../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data }) => {\r\n  const lieferungen = get(data, 'hasura.lieferung', [])\r\n\r\n  return (\r\n    lieferungen\r\n      .map(el => ({\r\n        nodeType: 'table',\r\n        menuType: 'lieferung',\r\n        filterTable: 'lieferung',\r\n        id: `lieferung${el.id}`,\r\n        parentId: 'lieferungFolder',\r\n        label: `${get(el, 'von_datum', '(kein von-Datum)')}: ${get(\r\n          el,\r\n          'personBypersonId.name',\r\n          '(keine Person)',\r\n        )}`,\r\n        url: ['Lieferungen', el.id],\r\n        hasChildren: true,\r\n      }))\r\n      .filter(n => allParentNodesExist(nodes, n))\r\n      // sort by label\r\n      .sort(compareLabel)\r\n      .map((el, index) => {\r\n        el.sort = [4, index]\r\n        return el\r\n      })\r\n  )\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'personFolder',\r\n      id: 'personFolder',\r\n      label: 'Personen',\r\n      url: ['Personen'],\r\n      sort: [5],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\n\r\nimport compareLabel from '../compareLabel'\r\nimport allParentNodesExist from '../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data }) => {\r\n  const personen = get(data, 'hasura.person', [])\r\n\r\n  return personen\r\n    .map(el => ({\r\n      nodeType: 'table',\r\n      menuType: 'person',\r\n      filterTable: 'person',\r\n      id: `person${el.id}`,\r\n      parentId: 'personFolder',\r\n      label: get(el, 'name', '(kein Name)'),\r\n      url: ['Personen', el.id],\r\n      hasChildren: true,\r\n    }))\r\n    .filter(n => allParentNodesExist(nodes, n))\r\n    .sort(compareLabel)\r\n    .map((el, index) => {\r\n      el.sort = [5, index]\r\n      return el\r\n    })\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'werteListenFolder',\r\n      id: 'werteListenFolder',\r\n      label: 'Werte-Listen',\r\n      url: ['Werte-Listen'],\r\n      sort: [6],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'masseinheitenFolder',\r\n      id: 'masseinheitenFolder',\r\n      parentId: 'werteListenFolder',\r\n      label: 'Masseinheiten',\r\n      url: ['Werte-Listen', 'Masseinheiten'],\r\n      sort: [6, 1],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\n\r\nimport compareLabel from '../compareLabel'\r\nimport allParentNodesExist from '../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data }) => {\r\n  const werte = get(data, 'hasura.masseinheit_werte', [])\r\n\r\n  return werte\r\n    .map(el => ({\r\n      nodeType: 'table',\r\n      menuType: 'masseinheit_werte',\r\n      filterTable: 'masseinheit_werte',\r\n      id: `masseinheit${el.id}`,\r\n      parentId: 'masseinheitenFolder',\r\n      label: get(el, 'wert', '(kein Wert)'),\r\n      url: ['Werte-Listen', 'Masseinheiten', el.id],\r\n      hasChildren: false,\r\n    }))\r\n    .filter(n => allParentNodesExist(nodes, n))\r\n    .sort(compareLabel)\r\n    .map((el, index) => {\r\n      el.sort = [6, 1, index]\r\n      return el\r\n    })\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'zaehleinheitenFolder',\r\n      id: 'zaehleinheitenFolder',\r\n      parentId: 'werteListenFolder',\r\n      label: 'Zähleinheiten',\r\n      url: ['Werte-Listen', 'Zaehleinheiten'],\r\n      sort: [6, 2],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\n\r\nimport compareLabel from '../compareLabel'\r\nimport allParentNodesExist from '../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data }) => {\r\n  const werte = get(data, 'hasura.zaehleinheit_werte', [])\r\n\r\n  return werte\r\n    .map(el => ({\r\n      nodeType: 'table',\r\n      menuType: 'zaehleinheit_werte',\r\n      filterTable: 'zaehleinheit_werte',\r\n      id: `zaehleinheit${el.id}`,\r\n      parentId: 'zaehleinheitenFolder',\r\n      label: get(el, 'wert', '(kein Wert)'),\r\n      url: ['Werte-Listen', 'Zaehleinheiten', el.id],\r\n      hasChildren: false,\r\n    }))\r\n    .filter(n => allParentNodesExist(nodes, n))\r\n    .sort(compareLabel)\r\n    .map((el, index) => {\r\n      el.sort = [6, 2, index]\r\n      return el\r\n    })\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'lieferungTypFolder',\r\n      id: 'lieferungTypFolder',\r\n      parentId: 'werteListenFolder',\r\n      label: 'Lieferung: Typ',\r\n      url: ['Werte-Listen', 'Lieferung-Typ'],\r\n      sort: [6, 3],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\n\r\nimport compareLabel from '../compareLabel'\r\nimport allParentNodesExist from '../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data }) => {\r\n  const werte = get(data, 'hasura.lieferung_typ_werte', [])\r\n\r\n  return werte\r\n    .map(el => ({\r\n      nodeType: 'table',\r\n      menuType: 'lieferung_typ_werte',\r\n      filterTable: 'lieferung_typ_werte',\r\n      id: `lieferungTyp${el.id}`,\r\n      parentId: 'lieferungTypFolder',\r\n      label: get(el, 'wert', '(kein Wert)'),\r\n      url: ['Werte-Listen', 'Lieferung-Typ', el.id],\r\n      hasChildren: false,\r\n    }))\r\n    .filter(n => allParentNodesExist(nodes, n))\r\n    .sort(compareLabel)\r\n    .map((el, index) => {\r\n      el.sort = [6, 3, index]\r\n      return el\r\n    })\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'lieferungStatusFolder',\r\n      id: 'lieferungStatusFolder',\r\n      parentId: 'werteListenFolder',\r\n      label: 'Lieferung: Status',\r\n      url: ['Werte-Listen', 'Lieferung-Status'],\r\n      sort: [6, 4],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\n\r\nimport compareLabel from '../compareLabel'\r\nimport allParentNodesExist from '../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data }) => {\r\n  const werte = get(data, 'hasura.lieferung_status_werte', [])\r\n\r\n  return werte\r\n    .map(el => ({\r\n      nodeType: 'table',\r\n      menuType: 'lieferung_status_werte',\r\n      filterTable: 'lieferung_status_werte',\r\n      id: `lieferungStatus${el.id}`,\r\n      parentId: 'lieferungStatusFolder',\r\n      label: get(el, 'wert', '(kein Wert)'),\r\n      url: ['Werte-Listen', 'Lieferung-Status', el.id],\r\n      hasChildren: false,\r\n    }))\r\n    .filter(n => allParentNodesExist(nodes, n))\r\n    .sort(compareLabel)\r\n    .map((el, index) => {\r\n      el.sort = [6, 4, index]\r\n      return el\r\n    })\r\n}\r\n","export default () => {\r\n  return [\r\n    {\r\n      nodeType: 'folder',\r\n      menuType: 'lieferungZwischenlagerFolder',\r\n      id: 'lieferungZwischenlagerFolder',\r\n      parentId: 'werteListenFolder',\r\n      label: 'Lieferung: Zwischenlager',\r\n      url: ['Werte-Listen', 'Lieferung-Zwischenlager'],\r\n      sort: [6, 5],\r\n      hasChildren: true,\r\n    },\r\n  ]\r\n}\r\n","import get from 'lodash/get'\r\n\r\nimport compareLabel from '../compareLabel'\r\nimport allParentNodesExist from '../../allParentNodesExist'\r\n\r\nexport default ({ nodes, data }) => {\r\n  const werte = get(data, 'hasura.lieferung_zwischenlager_werte', [])\r\n\r\n  return werte\r\n    .map(el => ({\r\n      nodeType: 'table',\r\n      menuType: 'lieferung_zwischenlager_werte',\r\n      filterTable: 'lieferung_zwischenlager_werte',\r\n      id: `lieferungZwischenlager${el.id}`,\r\n      parentId: 'lieferungZwischenlagerFolder',\r\n      label: get(el, 'wert', '(kein Wert)'),\r\n      url: ['Werte-Listen', 'Lieferung-Zwischenlager', el.id],\r\n      hasChildren: false,\r\n    }))\r\n    .filter(n => allParentNodesExist(nodes, n))\r\n    .sort(compareLabel)\r\n    .map((el, index) => {\r\n      el.sort = [6, 5, index]\r\n      return el\r\n    })\r\n}\r\n","import React, { useContext, useCallback } from 'react'\r\nimport styled from 'styled-components'\r\nimport { ContextMenuTrigger } from 'react-contextmenu'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight'\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz'\r\nimport { observer } from 'mobx-react-lite'\r\n\r\nimport isNodeInActiveNodePath from './isNodeInActiveNodePath'\r\nimport isNodeOpen from './isNodeOpen'\r\nimport toggleNode from './toggleNode'\r\nimport toggleNodeSymbol from './toggleNodeSymbol'\r\nimport storeContext from '../../../storeContext'\r\n\r\nconst singleRowHeight = 23\r\nconst StyledNode = styled.div`\r\n  padding-left: ${props => `${Number(props['data-level']) * 17 - 10}px`};\r\n  height: ${singleRowHeight}px;\r\n  max-height: ${singleRowHeight}px;\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  white-space: nowrap;\r\n  user-select: none;\r\n  color: ${props =>\r\n    props['data-nodeisinactivenodepath'] ? '#D84315' : 'inherit'};\r\n`\r\nconst StyledExpandMoreIcon = styled(ExpandMoreIcon)`\r\n  margin-top: ${props =>\r\n    props['data-nodeisopen'] ? '-6px !important' : '1px !important'};\r\n  margin-left: ${props => (props['data-nodeisopen'] ? '-1px !important' : 0)};\r\n  margin-right: ${props => (props['data-nodeisopen'] ? '-5px !important' : 0)};\r\n  padding-left: ${props => (props['data-nodeisopen'] ? '2px' : '2px')};\r\n  height: ${props =>\r\n    props['data-nodeisopen'] ? '30px !important' : '22px !important'};\r\n  width: ${props =>\r\n    props['data-nodeisopen'] ? '30px !important' : '26px !important'};\r\n  color: ${props =>\r\n    props['data-nodeisinactivenodepath'] ? '#D84315 !important' : 'inherit'};\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: #f57c00 !important;\r\n  }\r\n`\r\nconst StyledChevronRightIcon = styled(ChevronRightIcon)`\r\n  margin-top: -2px !important;\r\n  padding-left: 2px;\r\n  height: 22px !important;\r\n  width: 26px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: #f57c00 !important;\r\n  }\r\n`\r\nconst StyledMoreHorizIcon = styled(MoreHorizIcon)`\r\n  margin-top: ${props =>\r\n    props['data-nodeisinactivenodepath']\r\n      ? '-5px !important'\r\n      : '-2px !important'};\r\n  padding-left: ${props =>\r\n    props['data-nodeisinactivenodepath'] ? '1px' : '2px'};\r\n  height: ${props =>\r\n    props['data-nodeisinactivenodepath']\r\n      ? '26px !important'\r\n      : '22px !important'};\r\n  color: ${props =>\r\n    props['data-nodeisinactivenodepath'] ? '#D84315 !important' : 'inherit'};\r\n  width: 26px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: #f57c00 !important;\r\n  }\r\n`\r\nconst SymbolDiv = styled.div`\r\n  cursor: pointer;\r\n`\r\nconst SymbolSpan = styled.span`\r\n  padding-right: 8px !important;\r\n  padding-left: ${props =>\r\n    props['data-nodeisinactivenodepath'] ? '7px' : '9px'};\r\n  font-weight: ${props =>\r\n    props['data-nodeisinactivenodepath'] ? '900 !important' : 'inherit'};\r\n  margin-top: -9px !important;\r\n  font-size: 28px !important;\r\n  width: 9px;\r\n`\r\nconst TextSpan = styled.span`\r\n  margin-left: 0;\r\n  font-size: 16px !important;\r\n  font-weight: ${props =>\r\n    props['data-nodeisinactivenodepath'] ? '900 !important' : 'inherit'};\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow-x: hidden !important;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: #f57c00;\r\n  }\r\n`\r\n\r\nconst Row = ({ index, style, node }) => {\r\n  console.log('Row, start')\r\n  const store = useContext(storeContext)\r\n  const { tree } = store\r\n  const { openNodes, activeNodeArray } = tree\r\n\r\n  const myProps = { key: index }\r\n  const nodeIsInActiveNodePath = isNodeInActiveNodePath(node, activeNodeArray)\r\n  const nodeIsOpen = isNodeOpen(openNodes, node.url)\r\n  // build symbols\r\n  let useSymbolIcon = true\r\n  let useSymbolSpan = false\r\n  let symbolIcon\r\n  if (node.hasChildren && nodeIsOpen) {\r\n    symbolIcon = 'expandMore'\r\n  } else if (node.hasChildren) {\r\n    symbolIcon = 'chevronRight'\r\n  } else if (node.label === 'lade Daten...') {\r\n    symbolIcon = 'moreHoriz'\r\n  } else {\r\n    useSymbolSpan = true\r\n    useSymbolIcon = false\r\n  }\r\n  const dataUrl = JSON.stringify(node.url)\r\n  const level =\r\n    node.url[0] === 'Projekte' ? node.url.length - 1 : node.url.length\r\n\r\n  const onClickNode = useCallback(() => {\r\n    toggleNode({\r\n      node,\r\n      activeNodeArray,\r\n      store,\r\n    })\r\n  }, [node, openNodes, activeNodeArray])\r\n  const onClickNodeSymbol = useCallback(() => {\r\n    toggleNodeSymbol({ node, store })\r\n  }, [node, openNodes])\r\n\r\n  console.log('Row, will render', { node })\r\n\r\n  return (\r\n    <div style={style}>\r\n      <ContextMenuTrigger\r\n        id={node.menuType}\r\n        collect={() => myProps}\r\n        nodeId={node.id}\r\n        nodeLabel={node.label}\r\n        key={`${node.menuType}${node.id}`}\r\n      >\r\n        <StyledNode\r\n          data-level={level}\r\n          data-nodeisinactivenodepath={nodeIsInActiveNodePath}\r\n          data-id={node.id}\r\n          data-parentid={node.parentId}\r\n          data-url={dataUrl}\r\n          data-nodetype={node.nodeType}\r\n          data-label={node.label}\r\n          data-menutype={node.menuType}\r\n        >\r\n          {useSymbolIcon && (\r\n            <SymbolDiv onClick={onClickNodeSymbol}>\r\n              {symbolIcon === 'expandMore' && (\r\n                <StyledExpandMoreIcon\r\n                  data-nodeisinactivenodepath={nodeIsInActiveNodePath}\r\n                  data-nodeisopen={nodeIsOpen}\r\n                />\r\n              )}\r\n              {symbolIcon === 'chevronRight' && <StyledChevronRightIcon />}\r\n              {symbolIcon === 'moreHoriz' && (\r\n                <StyledMoreHorizIcon\r\n                  data-nodeisinactivenodepath={nodeIsInActiveNodePath}\r\n                />\r\n              )}\r\n            </SymbolDiv>\r\n          )}\r\n          {useSymbolSpan && (\r\n            <SymbolSpan data-nodeisinactivenodepath={nodeIsInActiveNodePath}>\r\n              {'-'}\r\n            </SymbolSpan>\r\n          )}\r\n          <TextSpan\r\n            data-nodeisinactivenodepath={nodeIsInActiveNodePath}\r\n            node={node}\r\n            onClick={onClickNode}\r\n          >\r\n            {node.label}\r\n          </TextSpan>\r\n        </StyledNode>\r\n      </ContextMenuTrigger>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default observer(Row)\r\n","import uniqBy from 'lodash/uniqBy'\r\n//import get from 'lodash/get'\r\n\r\nimport sort from '../sort'\r\nimport allParentNodesExist from '../allParentNodesExist'\r\nimport allParentNodesAreOpen from '../allParentNodesAreOpen'\r\nimport buildArtFolder from './art/artFolder'\r\nimport buildArtArt from './art/art'\r\nimport buildArtSammlungFolder from './art/sammlung/folder'\r\nimport buildArtSammlung from './art/sammlung'\r\nimport buildArtKulturFolder from './art/kultur/folder'\r\nimport buildArtKultur from './art/kultur'\r\nimport buildGartenFolder from './garten/gartenFolder'\r\nimport buildGartenGarten from './garten/garten'\r\nimport buildHerkunftFolder from './herkunft/herkunftFolder'\r\nimport buildHerkunftHerkunft from './herkunft/herkunft'\r\nimport buildLieferungFolder from './lieferung/lieferungFolder'\r\nimport buildLieferungLieferung from './lieferung/lieferung'\r\nimport buildPersonFolder from './person/personFolder'\r\nimport buildPersonPerson from './person/person'\r\nimport buildWerteListenFolder from './werteListen/werteListenFolder'\r\nimport buildWLMasseinheitFolder from './werteListen/masseinheitFolder'\r\nimport buildWLMasseinheitMasseinheit from './werteListen/masseinheit'\r\nimport buildWLZaehleinheitFolder from './werteListen/zaehleinheitFolder'\r\nimport buildWLZaehleinheitZaehleinheit from './werteListen/zaehleinheit'\r\nimport buildWLLieferungTypFolder from './werteListen/lieferungTypFolder'\r\nimport buildWLLieferungTypTyp from './werteListen/lieferungTyp'\r\nimport buildWLLieferungStatusFolder from './werteListen/lieferungStatusFolder'\r\nimport buildWLLieferungStatusStatus from './werteListen/lieferungStatus'\r\nimport buildWLLieferungZwischenlagerFolder from './werteListen/lieferungZwischenlagerFolder'\r\nimport buildWLLieferungZwischenlagerZwischenlager from './werteListen/lieferungZwischenlager'\r\n\r\nconst compare = (a, b) => {\r\n  // sort a before, if it has no value at this index\r\n  if (a !== 0 && !a) return -1\r\n  // sort a after if b has no value at this index\r\n  if (b !== 0 && !b) return 1\r\n  // sort a before if its value is smaller\r\n  return a - b\r\n}\r\n\r\nexport default ({ store, data }) => {\r\n  console.log('nodes, start')\r\n  /*\r\n  const masseinheitWerte = get(data, 'hasura.masseinheit_werte', [])\r\n  const zaehleinheitWerte = get(data, 'hasura.zaehleinheit_werte', [])\r\n  const lieferungZwischenlagerWerte = get(\r\n    data,\r\n    'hasura.lieferung_zwischenlager_werte',\r\n    [],\r\n  )\r\n  const lieferungStatusWerte = get(data, 'hasura.lieferung_status_werte', [])\r\n  const lieferungTypWerte = get(data, 'hasura.lieferung_typ_werte', [])\r\n  */\r\n\r\n  let openNodes = store.tree.openNodes.sort(sort)\r\n\r\n  let nodes = [\r\n    ...buildArtFolder(),\r\n    ...buildGartenFolder(),\r\n    ...buildHerkunftFolder(),\r\n    ...buildLieferungFolder(),\r\n    ...buildPersonFolder(),\r\n    ...buildWerteListenFolder(),\r\n  ]\r\n\r\n  /**\r\n   * We ALWAYS add an array of nodes,\r\n   * never a single one\r\n   * not even for folders that are never more than one\r\n   * because the function adding the nodes\r\n   * should be able to pass none as well\r\n   * for instance if a parent node is not open\r\n   * or some filter is active\r\n   */\r\n  openNodes.forEach(url => {\r\n    const _allParentNodesAreOpen = allParentNodesAreOpen(openNodes, url)\r\n    console.log('nodes, allParentNodesAreOpen', _allParentNodesAreOpen)\r\n    if (!allParentNodesAreOpen(openNodes, url)) return\r\n    if (url.length === 1 && url[0] === 'Arten') {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildArtArt({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n    if (url.length === 1 && url[0] === 'Gaerten') {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildGartenGarten({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n    if (url.length === 1 && url[0] === 'Herkuenfte') {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildHerkunftHerkunft({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n    if (url.length === 1 && url[0] === 'Lieferungen') {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildLieferungLieferung({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n    if (url.length === 1 && url[0] === 'Personen') {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildPersonPerson({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n    if (url.length === 1 && url[0] === 'Werte-Listen') {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildWLMasseinheitFolder({\r\n          nodes,\r\n          data,\r\n        }),\r\n        ...buildWLZaehleinheitFolder({\r\n          nodes,\r\n          data,\r\n        }),\r\n        ...buildWLLieferungTypFolder({\r\n          nodes,\r\n          data,\r\n        }),\r\n        ...buildWLLieferungStatusFolder({\r\n          nodes,\r\n          data,\r\n        }),\r\n        ...buildWLLieferungZwischenlagerFolder({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n\r\n    if (url.length === 2 && url[0] === 'Arten') {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildArtSammlungFolder({\r\n          nodes,\r\n          url,\r\n        }),\r\n        ...buildArtKulturFolder({\r\n          nodes,\r\n          url,\r\n        }),\r\n      ]\r\n    }\r\n\r\n    if (\r\n      url.length === 2 &&\r\n      url[0] === 'Werte-Listen' &&\r\n      url[1] === 'Zaehleinheiten'\r\n    ) {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildWLZaehleinheitZaehleinheit({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n    if (\r\n      url.length === 2 &&\r\n      url[0] === 'Werte-Listen' &&\r\n      url[1] === 'Lieferung-Status'\r\n    ) {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildWLLieferungStatusStatus({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n    if (\r\n      url.length === 2 &&\r\n      url[0] === 'Werte-Listen' &&\r\n      url[1] === 'Lieferung-Typ'\r\n    ) {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildWLLieferungTypTyp({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n    if (\r\n      url.length === 2 &&\r\n      url[0] === 'Werte-Listen' &&\r\n      url[1] === 'Lieferung-Zwischenlager'\r\n    ) {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildWLLieferungZwischenlagerZwischenlager({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n    if (\r\n      url.length === 2 &&\r\n      url[0] === 'Werte-Listen' &&\r\n      url[1] === 'Masseinheiten'\r\n    ) {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildWLMasseinheitMasseinheit({\r\n          nodes,\r\n          data,\r\n        }),\r\n      ]\r\n    }\r\n\r\n    if (url.length === 3 && url[0] === 'Arten' && url[2] === 'Kulturen') {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildArtKultur({\r\n          nodes,\r\n          data,\r\n          url,\r\n        }),\r\n      ]\r\n    }\r\n    if (url.length === 3 && url[0] === 'Arten' && url[2] === 'Sammlungen') {\r\n      nodes = [\r\n        ...nodes,\r\n        ...buildArtSammlung({\r\n          nodes,\r\n          data,\r\n          url,\r\n        }),\r\n      ]\r\n    }\r\n  })\r\n\r\n  nodes = nodes.filter(n => allParentNodesExist(nodes, n))\r\n  /**\r\n   * There is something weird happening when filtering data\r\n   * that leads to duplicate nodes\r\n   * Need to solve that but in the meantime use uniqBy\r\n   */\r\n  nodes = uniqBy(nodes, n => n.url.join())\r\n\r\n  /**\r\n   * As all nodes are now in one flat list,\r\n   * we need to sort them\r\n   *\r\n   * This is the sorting algorithm:\r\n   *\r\n   * compare the sort array value in the nodes\r\n   * to determine sorting\r\n   *\r\n   * compare arrays element by element, starting with first\r\n   * if a has no value at this index (> a is folder), sort a before b\r\n   * if b has no value at this index (> b is folder), sort a after b\r\n   * if a is smaller than b, sort a before b\r\n   * if both array elements at this index are same,\r\n   * compare values at next index\r\n   *\r\n   * see: stackoverflow.com/questions/13211709/javascript-sort-array-by-multiple-number-fields\r\n   */\r\n  return nodes.sort(\r\n    (a, b) =>\r\n      compare(a.sort[0], b.sort[0]) ||\r\n      compare(a.sort[1], b.sort[1]) ||\r\n      compare(a.sort[2], b.sort[2]) ||\r\n      compare(a.sort[3], b.sort[3]) ||\r\n      compare(a.sort[4], b.sort[4]) ||\r\n      compare(a.sort[5], b.sort[5]) ||\r\n      compare(a.sort[6], b.sort[6]) ||\r\n      compare(a.sort[7], b.sort[7]) ||\r\n      compare(a.sort[8], b.sort[8]) ||\r\n      compare(a.sort[9], b.sort[9]) ||\r\n      compare(a.sort[10], b.sort[10]),\r\n  )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { observer } from 'mobx-react-lite'\r\nimport findIndex from 'lodash/findIndex'\r\nimport isEqual from 'lodash/isEqual'\r\nimport { FixedSizeList as List } from 'react-window'\r\n\r\nimport ErrorBoundary from '../../../components/ErrorBoundary'\r\nimport storeContext from '../../../storeContext'\r\nimport Row from './Row'\r\nimport buildNodes from './nodes'\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  border-right-color: rgb(46, 125, 50);\r\n  border-right-width: 1px;\r\n  border-right-style: solid;\r\n  border-left-color: rgb(46, 125, 50);\r\n  border-left-width: 1px;\r\n  border-left-style: solid;\r\n  overflow: hidden;\r\n  @media print {\r\n    display: none !important;\r\n  }\r\n`\r\nconst StyledList = styled(List)`\r\n  overflow-x: hidden !important;\r\n`\r\n\r\nconst singleRowHeight = 23\r\n\r\nconst Tree = ({ data, dimensions }) => {\r\n  console.log('Tree, start')\r\n  const store = useContext(storeContext)\r\n  const { activeNodeArray, setNodes } = store.tree\r\n  // 1. build list depending on path using react-window\r\n  // 2. every node uses navigate to set url on click\r\n\r\n  const nodes = buildNodes({ store, data })\r\n  //setNodes(nodes)\r\n\r\n  const listRef = React.createRef()\r\n\r\n  console.log('Tree, 0')\r\n  useEffect(() => {\r\n    console.log('Tree, useEffect, 1 of 3')\r\n    const index = findIndex(nodes, node => isEqual(node.url, activeNodeArray))\r\n    console.log('Tree, useEffect, 2 of 3')\r\n    listRef.current.scrollToItem(index)\r\n    console.log('Tree, useEffect, 3 of 3')\r\n  }, [activeNodeArray, nodes])\r\n\r\n  console.log('Tree, 4, dimensions:', dimensions)\r\n  let height = 250\r\n  if (dimensions && dimensions.height && !isNaN(dimensions.height)) {\r\n    height = dimensions.height\r\n  }\r\n  console.log('Tree, 5')\r\n  let width = 250\r\n  if (dimensions && dimensions.width && !isNaN(dimensions.width)) {\r\n    width = dimensions.width\r\n  }\r\n  console.log('Tree, will render')\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <Container>\r\n        <StyledList\r\n          height={height}\r\n          itemCount={nodes.length}\r\n          itemSize={singleRowHeight}\r\n          width={width}\r\n          ref={listRef}\r\n        >\r\n          {({ index, style }) => (\r\n            <Row key={index} style={style} index={index} node={nodes[index]} />\r\n          )}\r\n        </StyledList>\r\n      </Container>\r\n    </ErrorBoundary>\r\n  )\r\n}\r\n\r\nexport default observer(Tree)\r\n","import React, { Component } from 'react'\r\nimport styled from 'styled-components'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst Container = styled.div`\r\n  margin: 10px;\r\n`\r\nconst ErrorTitle = styled.div`\r\n  margin-bottom: 10px;\r\n`\r\nconst ReloadButton = styled(Button)`\r\n  margin-top: 10px !important;\r\n`\r\n\r\nclass ErrorBoundary extends Component {\r\n  static getDerivedStateFromError(error) {\r\n    // Catch errors in any components below and re-render with error message\r\n    return {\r\n      error,\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { error: null }\r\n  }\r\n\r\n  render() {\r\n    const { error } = this.state\r\n    if (error) {\r\n      console.log('error:', error)\r\n      return (\r\n        <Container>\r\n          <ErrorTitle>\r\n            Oh je, es ist ein Fehler aufgetreten! Bericht:\r\n          </ErrorTitle>\r\n          <div>{error.message}</div>\r\n          <ReloadButton\r\n            variant=\"outlined\"\r\n            onClick={() => {\r\n              typeof window !== 'undefined' && window.location.reload(false)\r\n            }}\r\n          >\r\n            Neu laden\r\n          </ReloadButton>\r\n        </Container>\r\n      )\r\n    }\r\n    const { children } = this.props\r\n    var childrenWithProps = React.Children.map(children, child =>\r\n      React.cloneElement(child, { ...this.props }),\r\n    )\r\n\r\n    // Normally, just render children\r\n    // and pass all props\r\n    return childrenWithProps\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary\r\n","import { spy, observable, Reaction, computed } from 'mobx';\nimport { useState, useRef, useMemo, useEffect, useCallback, forwardRef, memo } from 'react';\n\nif (!useState) {\r\n    throw new Error(\"mobx-react-lite requires React with Hooks support (alpha versions)\");\r\n}\r\nif (!spy) {\r\n    throw new Error(\"mobx-react-lite requires mobx at least version 4 to be available\");\r\n}\n\nfunction useObservable(initialValue) {\r\n    return useRef(observable(initialValue)).current;\r\n}\n\nfunction useComputed(func, inputs = []) {\r\n    const computed$$1 = useMemo(() => computed(func), inputs);\r\n    return computed$$1.get();\r\n}\n\n/**\r\n * Adds an observable effect (reaction, autorun, or anything else that returns a disposer) that will be registered upon component creation and disposed upon unmounting.\r\n * Returns the generated disposer for early disposal.\r\n *\r\n * @export\r\n * @template D\r\n * @param {() => D} disposerGenerator A function that returns the disposer of the wanted effect.\r\n * @param {ReadonlyArray<any>} [inputs=[]] If you want the effect to be automatically re-created when some variable(s) are changed then pass them in this array.\r\n * @returns {D}\r\n */\r\nfunction useDisposable(disposerGenerator, inputs = []) {\r\n    const disposerRef = useRef(undefined);\r\n    useMemo(() => {\r\n        disposerRef.current = disposerGenerator();\r\n    }, inputs);\r\n    useEffect(() => () => {\r\n        if (disposerRef.current && typeof disposerRef.current === \"function\") {\r\n            disposerRef.current();\r\n        }\r\n    }, inputs);\r\n    return disposerRef.current;\r\n}\n\n/**\r\n * Adds an observable effect (reaction, autorun, or anything else that returns a disposer) that will be registered upon component creation and disposed upon unmounting.\r\n * Returns the generated disposer for early disposal.\r\n *\r\n * @deprecated Renamed to useDisposable for a more universal use\r\n * @export\r\n * @template D\r\n * @param {() => D} disposerGenerator A function that returns the disposer of the wanted effect.\r\n * @param {ReadonlyArray<any>} [inputs=[]] If you want the effect to be automatically re-created when some variable(s) are changed then pass them in this array.\r\n * @returns {D}\r\n */\r\nfunction useObservableEffect(disposerGenerator, inputs = []) {\r\n    return useDisposable(disposerGenerator, inputs);\r\n}\n\nlet globalIsUsingStaticRendering = false;\r\nfunction useStaticRendering(enable) {\r\n    globalIsUsingStaticRendering = enable;\r\n}\r\nfunction isUsingStaticRendering() {\r\n    return globalIsUsingStaticRendering;\r\n}\n\nconst EMPTY_ARRAY = [];\r\nfunction useUnmount(fn) {\r\n    useEffect(() => fn, EMPTY_ARRAY);\r\n}\n\nfunction useForceUpdate() {\r\n    const [tick, setTick] = useState(1);\r\n    const update = useCallback(() => {\r\n        setTick(tick + 1);\r\n    }, []);\r\n    return update;\r\n}\r\nfunction useObserver(fn, baseComponentName = \"observed\") {\r\n    if (isUsingStaticRendering()) {\r\n        return fn();\r\n    }\r\n    // forceUpdate 2.0\r\n    const forceUpdate = useForceUpdate();\r\n    const reaction = useRef(new Reaction(`observer(${baseComponentName})`, () => {\r\n        forceUpdate();\r\n    }));\r\n    useUnmount(() => {\r\n        reaction.current.dispose();\r\n    });\r\n    // render the original component, but have the\r\n    // reaction track the observables, so that rendering\r\n    // can be invalidated (see above) once a dependency changes\r\n    let rendering;\r\n    reaction.current.track(() => {\r\n        rendering = fn();\r\n    });\r\n    return rendering;\r\n}\n\n// n.b. base case is not used for actual typings or exported in the typing files\r\nfunction observer(baseComponent, options) {\r\n    // The working of observer is explaind step by step in this talk: https://www.youtube.com/watch?v=cPF4iBedoF0&feature=youtu.be&t=1307\r\n    if (isUsingStaticRendering()) {\r\n        return baseComponent;\r\n    }\r\n    const realOptions = Object.assign({ forwardRef: false }, options);\r\n    const baseComponentName = baseComponent.displayName || baseComponent.name;\r\n    const wrappedComponent = (props, ref) => {\r\n        return useObserver(() => baseComponent(props, ref), baseComponentName);\r\n    };\r\n    // memo; we are not intested in deep updates\r\n    // in props; we assume that if deep objects are changed,\r\n    // this is in observables, which would have been tracked anyway\r\n    let memoComponent;\r\n    if (realOptions.forwardRef) {\r\n        // we have to use forwardRef here because:\r\n        // 1. it cannot go before memo, only after it\r\n        // 2. forwardRef converts the function into an actual component, so we can't let the baseComponent do it\r\n        //    since it wouldn't be a callable function anymore\r\n        memoComponent = memo(forwardRef(wrappedComponent));\r\n    }\r\n    else {\r\n        memoComponent = memo(wrappedComponent);\r\n    }\r\n    memoComponent.displayName = baseComponentName;\r\n    return memoComponent;\r\n}\n\nfunction ObserverComponent({ children, render }) {\r\n    const component = children || render;\r\n    if (typeof component !== \"function\") {\r\n        return null;\r\n    }\r\n    return useObserver(component);\r\n}\r\nObserverComponent.propTypes = {\r\n    children: ObserverPropsCheck,\r\n    render: ObserverPropsCheck\r\n};\r\nObserverComponent.displayName = \"Observer\";\r\nfunction ObserverPropsCheck(props, key, componentName, location, propFullName) {\r\n    const extraKey = key === \"children\" ? \"render\" : \"children\";\r\n    const hasProp = typeof props[key] === \"function\";\r\n    const hasExtraProp = typeof props[extraKey] === \"function\";\r\n    if (hasProp && hasExtraProp) {\r\n        return new Error(\"MobX Observer: Do not use children and render in the same time in`\" + componentName);\r\n    }\r\n    if (hasProp || hasExtraProp) {\r\n        return null;\r\n    }\r\n    return new Error(\"Invalid prop `\" +\r\n        propFullName +\r\n        \"` of type `\" +\r\n        typeof props[key] +\r\n        \"` supplied to\" +\r\n        \" `\" +\r\n        componentName +\r\n        \"`, expected `function`.\");\r\n}\n\nexport { useObservable, useComputed, useDisposable, useObservableEffect, isUsingStaticRendering, useStaticRendering, observer, useObserver, ObserverComponent as Observer };\n"],"sourceRoot":""}